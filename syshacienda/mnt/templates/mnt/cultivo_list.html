{% extends 'base/home.html' %}
{% load static %}

{% block csstables %}

   <!-- Custom styles for this page -->
   <link href="{% static 'assets/vendor/datatables/dataTables.bootstrap4.min.css'%}" rel="stylesheet">
  
  <!-- XDSoft DateTimePicker -->  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-datetimepicker/2.5.20/jquery.datetimepicker.min.css" 
            integrity="sha256-DOS9W6NR+NFe1fUhEE0PGKY/fubbUCnOfTje2JMDw3Y=" crossorigin="anonymous" />  

  <link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.15.3/dist/bootstrap-table.min.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.8/css/select2.min.css" rel="stylesheet" />
{% endblock csstables %}

{% block page_content %}

<div class="container-fluid">
    <!-- Page Heading -->    
    <div class="app-card-body p-1 p-lg-1">
        <div class="row gx-5 gy-3">
          <div class="col-12 col-lg-9">
            <h2 class="h3 mb-2 text-primary">Listado de Cultivos                                       </h2>
          </div>
          <div class="col-12 col-lg-3">
            <a class="btn app-btn-secondary" href="{% url 'mnt:cultivo_new' %}">Crear nuevo</a>
          </div><!--//col-->
        </div><!--//row-->
    </div>
    <!-- DataTales Example -->

      <!--<div class="card shadow mb-4">-->
      {% if not obj %}
        <div class="card-header py-2">
            <h2 class="alert alert-info">No existe informaci√≥n</h2>
        </div>
      {% else %}
        <div class="card-body">
          <!-- <div class="table-responsive">-->
            <table class="table table-striped table-hover" >
              <thead>
                <tr>
                  <th>id</th>
                  <th>Nombre</th>
                  <th>Lote</th>
                  <th>Fecha Inicio</th>
                  <th>Fecha fin</th>
                  <th>Estado</th>
                  <th class="all">Acciones</th>
                </tr>
              </thead>
              <tbody>
                {% for item in obj %}
                <tr>
                    <td>{{ item.id }}</td>
                    <td>{{ item.nombre }}</td>
                    <td>{{ item.lote }}</td>
                    <td>{{ item.fechaInicio | date:"d/m/Y" }}</td>
                    <td>{{ item.fechaFin | date:"d/m/Y" }}</td>
                    <td>{{ item.estado | yesno:"Activo, Inactivo" }} </td>
                    <td>
                      <a href="{% url 'mnt:cultivo_edit' item.id %}" class="btn btn-warning btn-circle" role="button"><i class="far fa-edit"></i></a> 
                    </td>
                </tr>
                {% endfor %}
                </tbody>
              </table>
            </div><!-- table-responsive -->
          </div> <!-- card shadow -->
        </div><!-- card shadow mb-4 -->
     {% endif %}
  </div><!-- /.container-fluid -->
  
    <!-- mensaje de error -->
<!-- End of Main Content -->

{% endblock %}
{% block js_tablas %}
<!-- Page level plugins -->
<script src="{% static 'assets/vendor/datatables/jquery.dataTables.min.js'%}"></script>
<script src="{% static 'assets/vendor/datatables/dataTables.bootstrap4.min.js' %}"></script>


{% endblock js_tablas %}

{% block js_page %}
<script>
  var jq = jQuery.noConflict(true);
  // Call the dataTables jQuery plugin
  $(document).ready(function() {
    $('.table').DataTable();
  });
</script>
{% endblock %}